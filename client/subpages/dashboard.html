<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<title>SimpleChat</title>
	<link type="image/x-icon" href="../style/logo.png" rel="icon">

	<link href="../style/dashboard.css" rel="stylesheet">
	<link href="../style/general.css" rel="stylesheet">
	<script src="../script/general.js"></script>
	<script defer src="../script/socketConnection.js"></script>
	<script src="../script/dashboard.js"></script>

	<script crossorigin="anonymous" src="https://kit.fontawesome.com/6b0af4bcb3.js"></script>

	<script>
		let cleanStorage = () => {
			sessionStorage.clear()
		};
	</script>
</head>

<body>
	<main data-menu-open="false">
		<div id="sidebar">
			<div style="display: flex; flex-direction: row; align-items: center; gap: 8px;">
				<img alt="logo" height="40" src="../style/logo.png" width="40">
				<h1 style="letter-spacing: -1.5px;">SimpleChat</h1>
			</div>
			<i class="fas fa-arrow-right menu-close"
				onclick="document.querySelector('main').setAttribute('data-menu-open', 'false')"></i>

			<div class="accent-bar"></div>

			<span class="sidebar-callout">Your Profile</span>

			<div class="chat-contact" onclick='injectPageAsync("../subpages/dashboard/profile.html", cleanStorage)'>
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-pen"><path d="M11.5 15H7a4 4 0 0 0-4 4v2"/><path d="M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"/><circle cx="10" cy="7" r="4"/></svg>
				<p class="username">Your Username</p>
			</div>

			<div class="chat-contact appearance" onclick="changeColorScheme()">
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>
				<p>Appearance</p>
			</div>

			<div class="chat-contact logout" onclick="logout()">
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-out"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" x2="9" y1="12" y2="12"/></svg>
				<p>Logout</p>
			</div>

			<div class="accent-bar"></div>

			<span class="sidebar-callout">Get in touch</span>

			<div class="chat-contact"
				onclick='injectFileWithForm("../subpages/dashboard/create-chat.html", newChat, "user")'>
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-plus"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" x2="19" y1="8" y2="14"/><line x1="22" x2="16" y1="11" y2="11"/></svg>
				<p>New Chat</p>
			</div>

			<div class="chat-contact"
				onclick='injectFileWithForm("../subpages/dashboard/create-group.html", newChat, "group")'>
				<i class="fas fa-pen"></i>
				<p>New Group</p>
			</div>

			<div class="accent-bar"></div>

			<span class="sidebar-callout">Your Chats</span>

			<div id="chats" style="display: flex; flex-direction: column; gap: var(--spacing);"></div>
		</div>

		<div id="chat"></div>
	</main>

	<script>
		injectPageAsync("../subpages/dashboard/create-chat.html", () => {
		});
	</script>
</body>

</html>
