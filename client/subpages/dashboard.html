<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<title>SimpleChat</title>
	<link type="image/x-icon" href="../style/logo.png" rel="icon">

	<link href="../style/dashboard.css" rel="stylesheet">
	<link href="../style/general.css" rel="stylesheet">
	<script src="../script/general.js"></script>
	<script defer src="../script/socketConnection.js"></script>
	<script src="../script/dashboard.js"></script>

	<script crossorigin="anonymous" src="https://kit.fontawesome.com/6b0af4bcb3.js"></script>

	<script>
		let cleanStorage = () => {
			sessionStorage.clear()
		};
	</script>
</head>

<body>
	<main data-menu-open="false">
		<div id="sidebar">
			<div style="display: flex; flex-direction: row; align-items: center; gap: 8px;">
				<img alt="logo" height="40" src="../style/logo.png" width="40">
				<h1 style="letter-spacing: -1.5px;">SimpleChat</h1>
			</div>
			<i class="fas fa-arrow-right menu-close"
				onclick="document.querySelector('main').setAttribute('data-menu-open', 'false')"></i>

			<div class="accent-bar"></div>

			<span class="sidebar-callout">Your Profile</span>

			<div class="chat-contact" onclick='injectPageAsync("../subpages/dashboard/profile.html", cleanStorage)'>
				<i class="fas fa-user"></i>
				<p class="username">Your Username</p>
			</div>

			<div class="chat-contact appearance" onclick="changeColorScheme()">
				<i class="fas fa-moon"></i>
				<p>Appearance</p>
			</div>

			<div class="chat-contact logout" onclick="logout()">
				<i class="fas fa-sign-out-alt"></i>
				<p>Logout</p>
			</div>

			<div class="accent-bar"></div>

			<span class="sidebar-callout">Get in touch</span>

			<div class="chat-contact"
				onclick='injectFileWithForm("../subpages/dashboard/create-chat.html", newChat, "user")'>
				<i class="fas fa-user-plus"></i>
				<p>New Chat</p>
			</div>

			<div class="chat-contact"
				onclick='injectFileWithForm("../subpages/dashboard/create-group.html", newChat, "group")'>
				<i class="fas fa-pen"></i>
				<p>New Group</p>
			</div>

			<div class="accent-bar"></div>

			<span class="sidebar-callout">Your Chats</span>

			<div id="chats" style="display: flex; flex-direction: column; gap: var(--spacing);"></div>
		</div>

		<div id="chat"></div>
	</main>

	<script>
		injectPageAsync("../subpages/dashboard/create-chat.html", () => {
		});
	</script>
</body>

</html>
